{"version":3,"sources":["backalley-sortable-objects.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","sortableObjectView","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","desc","defineProperty","getOwnPropertyDescriptor","get","set","_interopRequireWildcard","_base","window","pagenow","wpPages","sortObjects","sortPosts","addEventListener","initSortableItems","jQueryElements","sortableUl","on","updateObjectPositionValue","./views/base","./views/sortableObjectView","2","value","elementStrings","elements","positionValues","document","querySelectorAll","sortableLi","inputApexPosition","inputHierarchyPosition","jQuery","editPostLocation","3","sortable","tolerance","cursor","items","axis","placeholder","opacity","ui","Array","from","forEach","el","positionContext","parentElement","newPosition","children","indexOf","classList","contains","querySelector","./base"],"mappings":"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","file":"backalley-sortable-objects.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar sortableObjectView = _interopRequireWildcard(require(\"./views/sortableObjectView\"));\n\nvar _base = require(\"./views/base\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\n// import MetaBox from './models/MetaBox';\n// import * as metaBoxView from './views/metaBoxView';\nif (window.pagenow === _base.wpPages.sortObjects || window.pagenow === _base.wpPages.sortPosts) {\n  window.addEventListener('DOMContentLoaded', sortableObjectView.initSortableItems);\n\n  _base.jQueryElements.sortableUl.on('sortupdate', sortableObjectView.updateObjectPositionValue);\n}\n\n},{\"./views/base\":2,\"./views/sortableObjectView\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wpPages = exports.jQueryElements = exports.elementStrings = exports.elements = void 0;\nvar elements = {\n  // Metabox\n  // Sortable Object\n  positionValues: document.querySelectorAll('.position-value'),\n  sortableLi: document.querySelectorAll('.sortable--item-container')\n};\nexports.elements = elements;\nvar elementStrings = {\n  inputApexPosition: '.order-input--apex',\n  inputHierarchyPosition: '.order-input--hierarchy'\n};\nexports.elementStrings = elementStrings;\nvar jQueryElements = {\n  sortableUl: jQuery(\".sortable\"),\n  positionValues: jQuery(\".position-value\")\n};\nexports.jQueryElements = jQueryElements;\nvar wpPages = {\n  editPostLocation: 'ba_location',\n  sortPosts: 'toplevel_page_ba_sort_posts',\n  sortObjects: 'toplevel_page_ba_sort_terms'\n};\nexports.wpPages = wpPages;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initSortableItems = initSortableItems;\nexports.updateObjectPositionValue = updateObjectPositionValue;\n\nvar _base = require(\"./base\");\n\nfunction initSortableItems() {\n  _base.jQueryElements.sortableUl.sortable({\n    'tolerance': 'intersect',\n    'cursor': 'pointer',\n    'items': '> li',\n    'axis': 'y',\n    'placeholder': 'placeholder',\n    'opacity': 0.7\n  });\n}\n\nfunction updateObjectPositionValue(e, ui) {\n  Array.from(_base.elements.sortableLi).forEach(function (el) {\n    var positionContext = el.parentElement;\n    var newPosition = Array.from(positionContext.children).indexOf(el) + 1;\n\n    if (positionContext.classList.contains('hierarchy')) {\n      el.querySelector(_base.elementStrings.inputHierarchyPosition).value = newPosition;\n    } else if (positionContext.classList.contains('apex')) {\n      el.querySelector(_base.elementStrings.inputApexPosition).value = newPosition;\n    }\n  });\n}\n\n},{\"./base\":2}]},{},[1]);\n"]}